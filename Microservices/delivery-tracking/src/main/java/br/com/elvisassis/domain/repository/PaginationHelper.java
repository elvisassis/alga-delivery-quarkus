package br.com.elvisassis.domain.repository;import br.com.elvisassis.api.model.PagedResult;import io.quarkus.hibernate.reactive.panache.PanacheQuery;import io.quarkus.panache.common.Page;import io.smallrye.mutiny.Uni;public class PaginationHelper {    public static <T> Uni<PagedResult<T>> paginate(PanacheQuery<T> query, int page, int size) {        return Uni.combine().all().unis(                        query.page(Page.of(page, size)).list(),                        query.count()                )                .asTuple()                .map(tuple -> new PagedResult<>(                        tuple.getItem1(),                        (int) Math.ceil((double) tuple.getItem2() / size),                        tuple.getItem2()                ));    }}